# Tests for else if chains
extern fn assert(value: bool);

# Basic else if - first branch taken
var result = 0;
if true {
    result = 1;
} else if true {
    result = 2;
} else {
    result = 3;
}
assert(result == 1);

# Basic else if - second branch taken
result = 0;
if false {
    result = 1;
} else if true {
    result = 2;
} else {
    result = 3;
}
assert(result == 2);

# Basic else if - else branch taken
result = 0;
if false {
    result = 1;
} else if false {
    result = 2;
} else {
    result = 3;
}
assert(result == 3);

# Long else if chain
fn classify(x: int) -> int {
    if x < 0 {
        return 0 - 1;
    } else if x == 0 {
        return 0;
    } else if x < 10 {
        return 1;
    } else if x < 100 {
        return 2;
    } else {
        return 3;
    }
}

assert(classify(0 - 5) == 0 - 1);
assert(classify(0) == 0);
assert(classify(5) == 1);
assert(classify(50) == 2);
assert(classify(500) == 3);

# Else if without final else
result = 42;
if false {
    result = 1;
} else if false {
    result = 2;
}
assert(result == 42);

# Else if with expressions in conditions
var a = 5;
var b = 10;
result = 0;
if a > b {
    result = 1;
} else if a == b {
    result = 2;
} else if a < b {
    result = 3;
}
assert(result == 3);

# Nested else if
result = 0;
if true {
    if false {
        result = 1;
    } else if true {
        result = 2;
    } else {
        result = 3;
    }
} else if true {
    result = 4;
}
assert(result == 2);
