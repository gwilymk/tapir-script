extern fn rng() -> int;

property amount: int2;

global shake_amount = 0;
global shake_intensity = 0;

event fn shake(intensity: int) {
    shake_amount = 10;
    shake_intensity = intensity;
}

loop {
    wait 2;

    if shake_amount <= 0 {
        amount = int2(0, 0);
        continue;
    }

    amount = int2(rng() % shake_intensity - shake_intensity / 2, rng() % shake_intensity - shake_intensity / 2);
    shake_amount = shake_amount - 1;
}