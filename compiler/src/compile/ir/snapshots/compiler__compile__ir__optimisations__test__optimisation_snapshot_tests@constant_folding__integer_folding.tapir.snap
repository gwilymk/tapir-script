---
source: compiler/src/compile/ir/optimisations.rs
expression: output
input_file: compiler/src/compile/ir/snapshot_tests/optimisations/constant_folding/integer_folding.tapir
---
----------- before -------------
=======================
fn @toplevel() -> 

---- block 0 ----
temp.16 = int 5
x.17 = temp.16
temp.18 = int 9
y.19 = temp.18
temp.20 = x.17
temp.21 = int 6
temp.22 = temp.20 + temp.21
z.23 = temp.22
temp.24 = y.19
temp.25 = int 9
temp.26 = temp.24 + temp.25
w.27 = temp.26
temp.28 = z.23
temp.29 = w.27
temp.30 = temp.28 + temp.29
storeprop temp.30, 0
return 


----------- copy_propagation -------------
=======================
fn @toplevel() -> 

---- block 0 ----
temp.16 = int 5
x.17 = temp.16
temp.18 = int 9
y.19 = temp.18
temp.20 = temp.16
temp.21 = int 6
temp.22 = temp.16 + temp.21
z.23 = temp.22
temp.24 = temp.18
temp.25 = int 9
temp.26 = temp.18 + temp.25
w.27 = temp.26
temp.28 = temp.22
temp.29 = temp.26
temp.30 = temp.22 + temp.26
storeprop temp.30, 0
return 


----------- dead_store_elimination -------------
=======================
fn @toplevel() -> 

---- block 0 ----
temp.16 = int 5
temp.18 = int 9
temp.21 = int 6
temp.22 = temp.16 + temp.21
temp.25 = int 9
temp.26 = temp.18 + temp.25
temp.30 = temp.22 + temp.26
storeprop temp.30, 0
return 


----------- constant_folding -------------
=======================
fn @toplevel() -> 

---- block 0 ----
temp.16 = int 5
temp.18 = int 9
temp.21 = int 6
temp.22 = int 11
temp.25 = int 9
temp.26 = int 18
temp.30 = temp.22 + temp.26
storeprop temp.30, 0
return 


----------- dead_store_elimination -------------
=======================
fn @toplevel() -> 

---- block 0 ----
temp.22 = int 11
temp.26 = int 18
temp.30 = temp.22 + temp.26
storeprop temp.30, 0
return 


----------- constant_folding -------------
=======================
fn @toplevel() -> 

---- block 0 ----
temp.22 = int 11
temp.26 = int 18
temp.30 = int 29
storeprop temp.30, 0
return 


----------- dead_store_elimination -------------
=======================
fn @toplevel() -> 

---- block 0 ----
temp.30 = int 29
storeprop temp.30, 0
return
