---
source: compiler/src/compile/ir/optimisations.rs
expression: output
input_file: compiler/src/compile/ir/snapshot_tests/optimisations/constant_folding/builtin_fold.tapir
---
----------- before -------------
=======================
fn @toplevel() -> 

---- block 0 ----
temp.17 = fix 0
temp.18 = builtin sin(temp.17)
s.19 = temp.18
temp.20 = fix 0
temp.21 = builtin cos(temp.20)
c.22 = temp.21
temp.23 = fix 4
temp.24 = builtin sqrt(temp.23)
r.25 = temp.24
temp.26 = fix 3.69921875
val.27 = temp.26
temp.28 = val.27
temp.29 = builtin fix@floor(temp.28)
f.30 = temp.29
temp.31 = f.30
temp.32 = temp.31
storeprop temp.32, 0
return 


----------- constant_folding -------------
=======================
fn @toplevel() -> 

---- block 0 ----
temp.17 = fix 0
temp.18 = fix 0
s.19 = temp.18
temp.20 = fix 0
temp.21 = fix 1
c.22 = temp.21
temp.23 = fix 4
temp.24 = fix 2
r.25 = temp.24
temp.26 = fix 3.69921875
val.27 = temp.26
temp.28 = val.27
temp.29 = builtin fix@floor(temp.28)
f.30 = temp.29
temp.31 = f.30
temp.32 = temp.31
storeprop temp.32, 0
return
