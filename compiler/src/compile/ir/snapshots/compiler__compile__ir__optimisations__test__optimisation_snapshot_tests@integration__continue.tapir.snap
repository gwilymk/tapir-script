---
source: compiler/src/compile/ir/optimisations.rs
expression: output
input_file: compiler/src/compile/ir/snapshot_tests/optimisations/integration/continue.tapir
---
----------- before -------------
=======================
fn @toplevel() -> 

---- block 2 ----
temp.17 = int 0
i.18 = temp.17
jmp 0

---- block 0 ----
i.19 = φ(i.18 from 2, i.23 from 3, i.23 from 9)
temp.20 = i.19
temp.21 = int 1
temp.22 = temp.20 + temp.21
i.23 = temp.22
temp.24 = i.23
temp.25 = int 2
temp.26 = temp.24 %% temp.25
temp.27 = int 0
temp.28 = temp.26 == temp.27
conditional_jump temp.28 3 4

---- block 3 ----
jmp 0

---- block 4 ----
jmp 5

---- block 5 ----
getprop temp.29, 0
temp.30 = int 1
temp.31 = temp.29 + temp.30
storeprop temp.31, 0
temp.32 = i.23
temp.33 = int 20
temp.34 = temp.32 > temp.33
conditional_jump temp.34 7 8

---- block 7 ----
jmp 1

---- block 8 ----
jmp 9

---- block 1 ----
return 

---- block 9 ----
jmp 0


----------- simplify_blocks -------------
=======================
fn @toplevel() -> 

---- block 2 ----
temp.17 = int 0
i.18 = temp.17
jmp 0

---- block 0 ----
i.19 = φ(i.18 from 2, i.23 from 3, i.23 from 9)
temp.20 = i.19
temp.21 = int 1
temp.22 = temp.20 + temp.21
i.23 = temp.22
temp.24 = i.23
temp.25 = int 2
temp.26 = temp.24 %% temp.25
temp.27 = int 0
temp.28 = temp.26 == temp.27
conditional_jump temp.28 3 4

---- block 3 ----
jmp 0

---- block 4 ----
getprop temp.29, 0
temp.30 = int 1
temp.31 = temp.29 + temp.30
storeprop temp.31, 0
temp.32 = i.23
temp.33 = int 20
temp.34 = temp.32 > temp.33
jmp 5

---- block 5 ----
conditional_jump temp.34 7 8

---- block 7 ----
jmp 1

---- block 8 ----
jmp 9

---- block 1 ----
return 

---- block 9 ----
jmp 0


----------- copy_propagation -------------
=======================
fn @toplevel() -> 

---- block 2 ----
temp.17 = int 0
i.18 = temp.17
jmp 0

---- block 0 ----
i.19 = φ(temp.17 from 2, i.23 from 3, i.23 from 9)
temp.20 = i.19
temp.21 = int 1
temp.22 = i.19 + temp.21
i.23 = temp.22
temp.24 = temp.22
temp.25 = int 2
temp.26 = temp.22 %% temp.25
temp.27 = int 0
temp.28 = temp.26 == temp.27
conditional_jump temp.28 3 4

---- block 3 ----
jmp 0

---- block 4 ----
getprop temp.29, 0
temp.30 = int 1
temp.31 = temp.29 + temp.30
storeprop temp.31, 0
temp.32 = temp.22
temp.33 = int 20
temp.34 = temp.22 > temp.33
jmp 5

---- block 5 ----
conditional_jump temp.34 7 8

---- block 7 ----
jmp 1

---- block 8 ----
jmp 9

---- block 1 ----
return 

---- block 9 ----
jmp 0


----------- dead_store_elimination -------------
=======================
fn @toplevel() -> 

---- block 2 ----
temp.17 = int 0
jmp 0

---- block 0 ----
i.19 = φ(temp.17 from 2, i.23 from 3, i.23 from 9)
temp.21 = int 1
temp.22 = i.19 + temp.21
i.23 = temp.22
temp.25 = int 2
temp.26 = temp.22 %% temp.25
temp.27 = int 0
temp.28 = temp.26 == temp.27
conditional_jump temp.28 3 4

---- block 3 ----
jmp 0

---- block 4 ----
getprop temp.29, 0
temp.30 = int 1
temp.31 = temp.29 + temp.30
storeprop temp.31, 0
temp.33 = int 20
temp.34 = temp.22 > temp.33
jmp 5

---- block 5 ----
conditional_jump temp.34 7 8

---- block 7 ----
jmp 1

---- block 8 ----
jmp 9

---- block 1 ----
return 

---- block 9 ----
jmp 0


----------- immediate_arithmetic -------------
=======================
fn @toplevel() -> 

---- block 2 ----
temp.17 = int 0
jmp 0

---- block 0 ----
i.19 = φ(temp.17 from 2, i.23 from 3, i.23 from 9)
temp.21 = int 1
temp.22 = i.19 + imm(1)
i.23 = temp.22
temp.25 = int 2
temp.26 = temp.22 %% temp.25
temp.27 = int 0
temp.28 = temp.26 == temp.27
conditional_jump temp.28 3 4

---- block 3 ----
jmp 0

---- block 4 ----
getprop temp.29, 0
temp.30 = int 1
temp.31 = temp.29 + imm(1)
storeprop temp.31, 0
temp.33 = int 20
temp.34 = temp.22 > temp.33
jmp 5

---- block 5 ----
conditional_jump temp.34 7 8

---- block 7 ----
jmp 1

---- block 8 ----
jmp 9

---- block 1 ----
return 

---- block 9 ----
jmp 0


----------- empty_block -------------
=======================
fn @toplevel() -> 

---- block 2 ----
temp.17 = int 0
jmp 0

---- block 0 ----
i.19 = φ(temp.17 from 2, i.23 from 3, i.23 from 9, i.23 from 0, i.23 from 8)
temp.21 = int 1
temp.22 = i.19 + imm(1)
i.23 = temp.22
temp.25 = int 2
temp.26 = temp.22 %% temp.25
temp.27 = int 0
temp.28 = temp.26 == temp.27
conditional_jump temp.28 0 4

---- block 4 ----
getprop temp.29, 0
temp.30 = int 1
temp.31 = temp.29 + imm(1)
storeprop temp.31, 0
temp.33 = int 20
temp.34 = temp.22 > temp.33
conditional_jump temp.34 7 8

---- block 7 ----
return 

---- block 8 ----
jmp 0


----------- unreferenced_blocks_in_phi -------------
=======================
fn @toplevel() -> 

---- block 2 ----
temp.17 = int 0
jmp 0

---- block 0 ----
i.19 = φ(temp.17 from 2, i.23 from 0, i.23 from 8)
temp.21 = int 1
temp.22 = i.19 + imm(1)
i.23 = temp.22
temp.25 = int 2
temp.26 = temp.22 %% temp.25
temp.27 = int 0
temp.28 = temp.26 == temp.27
conditional_jump temp.28 0 4

---- block 4 ----
getprop temp.29, 0
temp.30 = int 1
temp.31 = temp.29 + imm(1)
storeprop temp.31, 0
temp.33 = int 20
temp.34 = temp.22 > temp.33
conditional_jump temp.34 7 8

---- block 7 ----
return 

---- block 8 ----
jmp 0


----------- dead_store_elimination -------------
=======================
fn @toplevel() -> 

---- block 2 ----
temp.17 = int 0
jmp 0

---- block 0 ----
i.19 = φ(temp.17 from 2, i.23 from 0, i.23 from 8)
temp.22 = i.19 + imm(1)
i.23 = temp.22
temp.25 = int 2
temp.26 = temp.22 %% temp.25
temp.27 = int 0
temp.28 = temp.26 == temp.27
conditional_jump temp.28 0 4

---- block 4 ----
getprop temp.29, 0
temp.31 = temp.29 + imm(1)
storeprop temp.31, 0
temp.33 = int 20
temp.34 = temp.22 > temp.33
conditional_jump temp.34 7 8

---- block 7 ----
return 

---- block 8 ----
jmp 0


----------- empty_block -------------
=======================
fn @toplevel() -> 

---- block 2 ----
temp.17 = int 0
jmp 0

---- block 0 ----
i.19 = φ(temp.17 from 2, i.23 from 0, i.23 from 8, i.23 from 4)
temp.22 = i.19 + imm(1)
i.23 = temp.22
temp.25 = int 2
temp.26 = temp.22 %% temp.25
temp.27 = int 0
temp.28 = temp.26 == temp.27
conditional_jump temp.28 0 4

---- block 4 ----
getprop temp.29, 0
temp.31 = temp.29 + imm(1)
storeprop temp.31, 0
temp.33 = int 20
temp.34 = temp.22 > temp.33
conditional_jump temp.34 7 0

---- block 7 ----
return 


----------- unreferenced_blocks_in_phi -------------
=======================
fn @toplevel() -> 

---- block 2 ----
temp.17 = int 0
jmp 0

---- block 0 ----
i.19 = φ(temp.17 from 2, i.23 from 0, i.23 from 4)
temp.22 = i.19 + imm(1)
i.23 = temp.22
temp.25 = int 2
temp.26 = temp.22 %% temp.25
temp.27 = int 0
temp.28 = temp.26 == temp.27
conditional_jump temp.28 0 4

---- block 4 ----
getprop temp.29, 0
temp.31 = temp.29 + imm(1)
storeprop temp.31, 0
temp.33 = int 20
temp.34 = temp.22 > temp.33
conditional_jump temp.34 7 0

---- block 7 ----
return
