---
source: compiler/src/compile/ir/optimisations.rs
expression: output
input_file: compiler/src/compile/ir/snapshot_tests/optimisations/constant_folding/bitwise_ops.tapir
---
----------- before -------------
=======================
fn @toplevel() -> 

---- block 0 ----
temp.24 = int 1
temp.25 = int 3
temp.26 = temp.24 << temp.25
a.27 = temp.26
temp.28 = int 16
temp.29 = int 2
temp.30 = temp.28 >> temp.29
b.31 = temp.30
temp.32 = int 5
temp.33 = int 3
temp.34 = temp.32 & temp.33
c.35 = temp.34
temp.36 = int 5
temp.37 = int 3
temp.38 = temp.36 | temp.37
d.39 = temp.38
temp.40 = a.27
temp.41 = b.31
temp.42 = temp.40 + temp.41
temp.43 = c.35
temp.44 = temp.42 + temp.43
temp.45 = d.39
temp.46 = temp.44 + temp.45
storeprop temp.46, 0
return 


----------- copy_propagation -------------
=======================
fn @toplevel() -> 

---- block 0 ----
temp.24 = int 1
temp.25 = int 3
temp.26 = temp.24 << temp.25
a.27 = temp.26
temp.28 = int 16
temp.29 = int 2
temp.30 = temp.28 >> temp.29
b.31 = temp.30
temp.32 = int 5
temp.33 = int 3
temp.34 = temp.32 & temp.33
c.35 = temp.34
temp.36 = int 5
temp.37 = int 3
temp.38 = temp.36 | temp.37
d.39 = temp.38
temp.40 = temp.26
temp.41 = temp.30
temp.42 = temp.26 + temp.30
temp.43 = temp.34
temp.44 = temp.42 + temp.34
temp.45 = temp.38
temp.46 = temp.44 + temp.38
storeprop temp.46, 0
return 


----------- dead_store_elimination -------------
=======================
fn @toplevel() -> 

---- block 0 ----
temp.24 = int 1
temp.25 = int 3
temp.26 = temp.24 << temp.25
temp.28 = int 16
temp.29 = int 2
temp.30 = temp.28 >> temp.29
temp.32 = int 5
temp.33 = int 3
temp.34 = temp.32 & temp.33
temp.36 = int 5
temp.37 = int 3
temp.38 = temp.36 | temp.37
temp.42 = temp.26 + temp.30
temp.44 = temp.42 + temp.34
temp.46 = temp.44 + temp.38
storeprop temp.46, 0
return 


----------- constant_folding -------------
=======================
fn @toplevel() -> 

---- block 0 ----
temp.24 = int 1
temp.25 = int 3
temp.26 = int 8
temp.28 = int 16
temp.29 = int 2
temp.30 = int 4
temp.32 = int 5
temp.33 = int 3
temp.34 = int 1
temp.36 = int 5
temp.37 = int 3
temp.38 = int 7
temp.42 = temp.26 + temp.30
temp.44 = temp.42 + temp.34
temp.46 = temp.44 + temp.38
storeprop temp.46, 0
return 


----------- dead_store_elimination -------------
=======================
fn @toplevel() -> 

---- block 0 ----
temp.26 = int 8
temp.30 = int 4
temp.34 = int 1
temp.38 = int 7
temp.42 = temp.26 + temp.30
temp.44 = temp.42 + temp.34
temp.46 = temp.44 + temp.38
storeprop temp.46, 0
return 


----------- constant_folding -------------
=======================
fn @toplevel() -> 

---- block 0 ----
temp.26 = int 8
temp.30 = int 4
temp.34 = int 1
temp.38 = int 7
temp.42 = int 12
temp.44 = temp.42 + temp.34
temp.46 = temp.44 + temp.38
storeprop temp.46, 0
return 


----------- dead_store_elimination -------------
=======================
fn @toplevel() -> 

---- block 0 ----
temp.34 = int 1
temp.38 = int 7
temp.42 = int 12
temp.44 = temp.42 + temp.34
temp.46 = temp.44 + temp.38
storeprop temp.46, 0
return 


----------- constant_folding -------------
=======================
fn @toplevel() -> 

---- block 0 ----
temp.34 = int 1
temp.38 = int 7
temp.42 = int 12
temp.44 = int 13
temp.46 = temp.44 + temp.38
storeprop temp.46, 0
return 


----------- dead_store_elimination -------------
=======================
fn @toplevel() -> 

---- block 0 ----
temp.38 = int 7
temp.44 = int 13
temp.46 = temp.44 + temp.38
storeprop temp.46, 0
return 


----------- constant_folding -------------
=======================
fn @toplevel() -> 

---- block 0 ----
temp.38 = int 7
temp.44 = int 13
temp.46 = int 20
storeprop temp.46, 0
return 


----------- dead_store_elimination -------------
=======================
fn @toplevel() -> 

---- block 0 ----
temp.46 = int 20
storeprop temp.46, 0
return
