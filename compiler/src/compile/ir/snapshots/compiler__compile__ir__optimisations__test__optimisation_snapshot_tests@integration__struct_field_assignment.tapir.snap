---
source: compiler/src/compile/ir/optimisations.rs
expression: output
input_file: compiler/src/compile/ir/snapshot_tests/optimisations/integration/struct_field_assignment.tapir
---
----------- before -------------
=======================
fn @toplevel() -> 

---- block 0 ----
temp.26 = int 1
temp.27 = int 2
temp.2.x.28 = temp.26
temp.2.y.29 = temp.27
temp.30 = temp.2.x.28
p.x.31 = temp.30
temp.32 = temp.2.y.29
p.y.33 = temp.32
temp.34 = int 100
p.x.35 = temp.34
temp.36 = int 200
p.y.37 = temp.36
temp.38 = p.x.35
temp.16.x.39 = temp.38
temp.40 = p.y.37
temp.16.y.41 = temp.40
temp.42 = temp.16.x.39
temp.43 = p.x.35
temp.21.x.44 = temp.43
temp.45 = p.y.37
temp.21.y.46 = temp.45
temp.47 = temp.21.y.46
temp.48 = temp.42 + temp.47
storeprop temp.48, 0
return 


----------- copy_propagation -------------
=======================
fn @toplevel() -> 

---- block 0 ----
temp.26 = int 1
temp.27 = int 2
temp.2.x.28 = temp.26
temp.2.y.29 = temp.27
temp.30 = temp.26
p.x.31 = temp.26
temp.32 = temp.27
p.y.33 = temp.27
temp.34 = int 100
p.x.35 = temp.34
temp.36 = int 200
p.y.37 = temp.36
temp.38 = temp.34
temp.16.x.39 = temp.34
temp.40 = temp.36
temp.16.y.41 = temp.36
temp.42 = temp.34
temp.43 = temp.34
temp.21.x.44 = temp.34
temp.45 = temp.36
temp.21.y.46 = temp.36
temp.47 = temp.36
temp.48 = temp.34 + temp.36
storeprop temp.48, 0
return 


----------- dead_store_elimination -------------
=======================
fn @toplevel() -> 

---- block 0 ----
temp.26 = int 1
temp.27 = int 2
temp.34 = int 100
temp.36 = int 200
temp.48 = temp.34 + temp.36
storeprop temp.48, 0
return 


----------- constant_folding -------------
=======================
fn @toplevel() -> 

---- block 0 ----
temp.26 = int 1
temp.27 = int 2
temp.34 = int 100
temp.36 = int 200
temp.48 = int 300
storeprop temp.48, 0
return 


----------- dead_store_elimination -------------
=======================
fn @toplevel() -> 

---- block 0 ----
temp.48 = int 300
storeprop temp.48, 0
return
