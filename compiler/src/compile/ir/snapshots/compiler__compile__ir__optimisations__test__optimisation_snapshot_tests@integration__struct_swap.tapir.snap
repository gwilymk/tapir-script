---
source: compiler/src/compile/ir/optimisations.rs
expression: output
input_file: compiler/src/compile/ir/snapshot_tests/optimisations/integration/struct_swap.tapir
---
----------- before -------------
=======================
fn @toplevel() -> 

---- block 0 ----
temp.68 = int 1
temp.69 = int 2
temp.5.x.70 = temp.68
temp.5.y.71 = temp.69
temp.72 = temp.5.x.70
temp.4.x.73 = temp.72
temp.74 = temp.5.y.71
temp.4.y.75 = temp.74
temp.76 = temp.4.x.73
a.x.77 = temp.76
temp.78 = temp.4.y.75
a.y.79 = temp.78
temp.80 = int 3
temp.81 = int 4
temp.19.x.82 = temp.80
temp.19.y.83 = temp.81
temp.84 = temp.19.x.82
temp.18.x.85 = temp.84
temp.86 = temp.19.y.83
temp.18.y.87 = temp.86
temp.88 = temp.18.x.85
b.x.89 = temp.88
temp.90 = temp.18.y.87
b.y.91 = temp.90
temp.92 = a.x.77
temp.32.x.93 = temp.92
temp.94 = a.y.79
temp.32.y.95 = temp.94
temp.96 = temp.32.x.93
temp.x.97 = temp.96
temp.98 = temp.32.y.95
temp.y.99 = temp.98
temp.100 = b.x.89
temp.41.x.101 = temp.100
temp.102 = b.y.91
temp.41.y.103 = temp.102
temp.104 = temp.41.x.101
a.x.105 = temp.104
temp.106 = temp.41.y.103
a.y.107 = temp.106
temp.108 = temp.x.97
temp.48.x.109 = temp.108
temp.110 = temp.y.99
temp.48.y.111 = temp.110
temp.112 = temp.48.x.109
b.x.113 = temp.112
temp.114 = temp.48.y.111
b.y.115 = temp.114
temp.116 = a.x.105
temp.58.x.117 = temp.116
temp.118 = a.y.107
temp.58.y.119 = temp.118
temp.120 = temp.58.x.117
temp.121 = b.x.113
temp.63.x.122 = temp.121
temp.123 = b.y.115
temp.63.y.124 = temp.123
temp.125 = temp.63.y.124
temp.126 = temp.120 + temp.125
storeprop temp.126, 0
return 


----------- copy_propagation -------------
=======================
fn @toplevel() -> 

---- block 0 ----
temp.68 = int 1
temp.69 = int 2
temp.5.x.70 = temp.68
temp.5.y.71 = temp.69
temp.72 = temp.68
temp.4.x.73 = temp.68
temp.74 = temp.69
temp.4.y.75 = temp.69
temp.76 = temp.68
a.x.77 = temp.68
temp.78 = temp.69
a.y.79 = temp.69
temp.80 = int 3
temp.81 = int 4
temp.19.x.82 = temp.80
temp.19.y.83 = temp.81
temp.84 = temp.80
temp.18.x.85 = temp.80
temp.86 = temp.81
temp.18.y.87 = temp.81
temp.88 = temp.80
b.x.89 = temp.80
temp.90 = temp.81
b.y.91 = temp.81
temp.92 = temp.68
temp.32.x.93 = temp.68
temp.94 = temp.69
temp.32.y.95 = temp.69
temp.96 = temp.68
temp.x.97 = temp.68
temp.98 = temp.69
temp.y.99 = temp.69
temp.100 = temp.80
temp.41.x.101 = temp.80
temp.102 = temp.81
temp.41.y.103 = temp.81
temp.104 = temp.80
a.x.105 = temp.80
temp.106 = temp.81
a.y.107 = temp.81
temp.108 = temp.68
temp.48.x.109 = temp.68
temp.110 = temp.69
temp.48.y.111 = temp.69
temp.112 = temp.68
b.x.113 = temp.68
temp.114 = temp.69
b.y.115 = temp.69
temp.116 = temp.80
temp.58.x.117 = temp.80
temp.118 = temp.81
temp.58.y.119 = temp.81
temp.120 = temp.80
temp.121 = temp.68
temp.63.x.122 = temp.68
temp.123 = temp.69
temp.63.y.124 = temp.69
temp.125 = temp.69
temp.126 = temp.80 + temp.69
storeprop temp.126, 0
return 


----------- dead_store_elimination -------------
=======================
fn @toplevel() -> 

---- block 0 ----
temp.68 = int 1
temp.69 = int 2
temp.80 = int 3
temp.81 = int 4
temp.126 = temp.80 + temp.69
storeprop temp.126, 0
return 


----------- constant_folding -------------
=======================
fn @toplevel() -> 

---- block 0 ----
temp.68 = int 1
temp.69 = int 2
temp.80 = int 3
temp.81 = int 4
temp.126 = int 5
storeprop temp.126, 0
return 


----------- dead_store_elimination -------------
=======================
fn @toplevel() -> 

---- block 0 ----
temp.126 = int 5
storeprop temp.126, 0
return
