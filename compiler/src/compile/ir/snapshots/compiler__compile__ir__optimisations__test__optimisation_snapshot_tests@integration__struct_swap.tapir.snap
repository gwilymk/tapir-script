---
source: compiler/src/compile/ir/optimisations.rs
expression: output
input_file: compiler/src/compile/ir/snapshot_tests/optimisations/integration/struct_swap.tapir
---
----------- before -------------
=======================
fn @toplevel() -> 

---- block 0 ----
temp.39 = int 1
temp.40 = int 2
temp.4.x.41 = temp.39
temp.4.y.42 = temp.40
a.x.43 = temp.4.x.41
a.y.44 = temp.4.y.42
temp.45 = int 3
temp.46 = int 4
temp.11.x.47 = temp.45
temp.11.y.48 = temp.46
b.x.49 = temp.11.x.47
b.y.50 = temp.11.y.48
temp.18.x.51 = a.x.43
temp.18.y.52 = a.y.44
temp.x.53 = temp.18.x.51
temp.y.54 = temp.18.y.52
temp.23.x.55 = b.x.49
temp.23.y.56 = b.y.50
a.x.57 = temp.23.x.55
a.y.58 = temp.23.y.56
temp.26.x.59 = temp.x.53
temp.26.y.60 = temp.y.54
b.x.61 = temp.26.x.59
b.y.62 = temp.26.y.60
temp.32.x.63 = a.x.57
temp.32.y.64 = a.y.58
temp.65 = temp.32.x.63
temp.35.x.66 = b.x.61
temp.35.y.67 = b.y.62
temp.68 = temp.35.y.67
temp.69 = temp.65 + temp.68
temp.70 = temp.69
storeprop temp.70, 0
return 


----------- copy_propagation -------------
=======================
fn @toplevel() -> 

---- block 0 ----
temp.39 = int 1
temp.40 = int 2
temp.4.x.41 = temp.39
temp.4.y.42 = temp.40
a.x.43 = temp.39
a.y.44 = temp.40
temp.45 = int 3
temp.46 = int 4
temp.11.x.47 = temp.45
temp.11.y.48 = temp.46
b.x.49 = temp.45
b.y.50 = temp.46
temp.18.x.51 = temp.39
temp.18.y.52 = temp.40
temp.x.53 = temp.39
temp.y.54 = temp.40
temp.23.x.55 = temp.45
temp.23.y.56 = temp.46
a.x.57 = temp.45
a.y.58 = temp.46
temp.26.x.59 = temp.39
temp.26.y.60 = temp.40
b.x.61 = temp.39
b.y.62 = temp.40
temp.32.x.63 = temp.45
temp.32.y.64 = temp.46
temp.65 = temp.45
temp.35.x.66 = temp.39
temp.35.y.67 = temp.40
temp.68 = temp.40
temp.69 = temp.45 + temp.40
temp.70 = temp.69
storeprop temp.69, 0
return 


----------- dead_store_elimination -------------
=======================
fn @toplevel() -> 

---- block 0 ----
temp.39 = int 1
temp.40 = int 2
temp.45 = int 3
temp.46 = int 4
temp.69 = temp.45 + temp.40
storeprop temp.69, 0
return 


----------- constant_folding -------------
=======================
fn @toplevel() -> 

---- block 0 ----
temp.39 = int 1
temp.40 = int 2
temp.45 = int 3
temp.46 = int 4
temp.69 = int 5
storeprop temp.69, 0
return 


----------- dead_store_elimination -------------
=======================
fn @toplevel() -> 

---- block 0 ----
temp.69 = int 5
storeprop temp.69, 0
return
