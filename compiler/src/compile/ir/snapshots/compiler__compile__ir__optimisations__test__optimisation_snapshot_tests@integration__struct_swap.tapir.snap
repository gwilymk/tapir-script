---
source: compiler/src/compile/ir/optimisations.rs
expression: output
input_file: compiler/src/compile/ir/snapshot_tests/optimisations/integration/struct_swap.tapir
---
----------- before -------------
=======================
fn @toplevel() -> 

---- block 0 ----
temp.54 = int 1
temp.55 = int 2
temp.4.x.56 = temp.54
temp.4.y.57 = temp.55
a.x.58 = temp.4.x.56
a.y.59 = temp.4.y.57
temp.60 = int 3
temp.61 = int 4
temp.11.x.62 = temp.60
temp.11.y.63 = temp.61
b.x.64 = temp.11.x.62
b.y.65 = temp.11.y.63
temp.66 = a.x.58
temp.18.x.67 = temp.66
temp.68 = a.y.59
temp.18.y.69 = temp.68
temp.70 = temp.18.x.67
temp.x.71 = temp.70
temp.72 = temp.18.y.69
temp.y.73 = temp.72
temp.74 = b.x.64
temp.27.x.75 = temp.74
temp.76 = b.y.65
temp.27.y.77 = temp.76
temp.78 = temp.27.x.75
a.x.79 = temp.78
temp.80 = temp.27.y.77
a.y.81 = temp.80
temp.82 = temp.x.71
temp.34.x.83 = temp.82
temp.84 = temp.y.73
temp.34.y.85 = temp.84
temp.86 = temp.34.x.83
b.x.87 = temp.86
temp.88 = temp.34.y.85
b.y.89 = temp.88
temp.90 = a.x.79
temp.44.x.91 = temp.90
temp.92 = a.y.81
temp.44.y.93 = temp.92
temp.94 = temp.44.x.91
temp.95 = b.x.87
temp.49.x.96 = temp.95
temp.97 = b.y.89
temp.49.y.98 = temp.97
temp.99 = temp.49.y.98
temp.100 = temp.94 + temp.99
storeprop temp.100, 0
return 


----------- copy_propagation -------------
=======================
fn @toplevel() -> 

---- block 0 ----
temp.54 = int 1
temp.55 = int 2
temp.4.x.56 = temp.54
temp.4.y.57 = temp.55
a.x.58 = temp.54
a.y.59 = temp.55
temp.60 = int 3
temp.61 = int 4
temp.11.x.62 = temp.60
temp.11.y.63 = temp.61
b.x.64 = temp.60
b.y.65 = temp.61
temp.66 = temp.54
temp.18.x.67 = temp.54
temp.68 = temp.55
temp.18.y.69 = temp.55
temp.70 = temp.54
temp.x.71 = temp.54
temp.72 = temp.55
temp.y.73 = temp.55
temp.74 = temp.60
temp.27.x.75 = temp.60
temp.76 = temp.61
temp.27.y.77 = temp.61
temp.78 = temp.60
a.x.79 = temp.60
temp.80 = temp.61
a.y.81 = temp.61
temp.82 = temp.54
temp.34.x.83 = temp.54
temp.84 = temp.55
temp.34.y.85 = temp.55
temp.86 = temp.54
b.x.87 = temp.54
temp.88 = temp.55
b.y.89 = temp.55
temp.90 = temp.60
temp.44.x.91 = temp.60
temp.92 = temp.61
temp.44.y.93 = temp.61
temp.94 = temp.60
temp.95 = temp.54
temp.49.x.96 = temp.54
temp.97 = temp.55
temp.49.y.98 = temp.55
temp.99 = temp.55
temp.100 = temp.60 + temp.55
storeprop temp.100, 0
return 


----------- dead_store_elimination -------------
=======================
fn @toplevel() -> 

---- block 0 ----
temp.54 = int 1
temp.55 = int 2
temp.60 = int 3
temp.61 = int 4
temp.100 = temp.60 + temp.55
storeprop temp.100, 0
return 


----------- constant_folding -------------
=======================
fn @toplevel() -> 

---- block 0 ----
temp.54 = int 1
temp.55 = int 2
temp.60 = int 3
temp.61 = int 4
temp.100 = int 5
storeprop temp.100, 0
return 


----------- dead_store_elimination -------------
=======================
fn @toplevel() -> 

---- block 0 ----
temp.100 = int 5
storeprop temp.100, 0
return
