---
source: compiler/src/compile/ir/optimisations.rs
expression: output
input_file: compiler/src/compile/ir/snapshot_tests/optimisations/dead_global_elimination/nested_struct_global.tapir
---
----------- before -------------
=======================
fn @toplevel() -> 

---- block 0 ----
temp.70 = int 1
temp.71 = int 2
temp.9.x.72 = temp.70
temp.9.y.73 = temp.71
temp.74 = temp.9.x.72
temp.8.x.75 = temp.74
temp.76 = temp.9.y.73
temp.8.y.77 = temp.76
temp.78 = int 3
temp.79 = int 4
temp.19.x.80 = temp.78
temp.19.y.81 = temp.79
temp.82 = temp.19.x.80
temp.18.x.83 = temp.82
temp.84 = temp.19.y.81
temp.18.y.85 = temp.84
temp.1.origin.x.86 = temp.8.x.75
temp.1.origin.y.87 = temp.8.y.77
temp.1.size.x.88 = temp.18.x.83
temp.1.size.y.89 = temp.18.y.85
temp.90 = temp.1.origin.x.86
temp.0.origin.x.91 = temp.90
temp.92 = temp.1.origin.y.87
temp.0.origin.y.93 = temp.92
temp.94 = temp.1.size.x.88
temp.0.size.x.95 = temp.94
temp.96 = temp.1.size.y.89
temp.0.size.y.97 = temp.96
temp.98 = temp.0.origin.x.91
setglobal 1, temp.98
temp.99 = temp.0.origin.y.93
setglobal 2, temp.99
temp.100 = temp.0.size.x.95
setglobal 3, temp.100
temp.101 = temp.0.size.y.97
setglobal 4, temp.101
getglobal temp.102, 1
temp.44.x.103 = temp.102
getglobal temp.104, 2
temp.44.y.105 = temp.104
temp.106 = temp.44.x.103
temp.107 = extern test(temp.106)
getglobal temp.108, 1
temp.51.x.109 = temp.108
getglobal temp.110, 2
temp.51.y.111 = temp.110
temp.112 = temp.51.y.111
temp.113 = extern test(temp.112)
getglobal temp.114, 3
temp.58.x.115 = temp.114
getglobal temp.116, 4
temp.58.y.117 = temp.116
temp.118 = temp.58.x.115
temp.119 = extern test(temp.118)
getglobal temp.120, 3
temp.65.x.121 = temp.120
getglobal temp.122, 4
temp.65.y.123 = temp.122
temp.124 = temp.65.y.123
temp.125 = extern test(temp.124)
return 


----------- eliminate_dead_globals -------------
=======================
fn @toplevel() -> 

---- block 0 ----
temp.70 = int 1
temp.71 = int 2
temp.9.x.72 = temp.70
temp.9.y.73 = temp.71
temp.74 = temp.9.x.72
temp.8.x.75 = temp.74
temp.76 = temp.9.y.73
temp.8.y.77 = temp.76
temp.78 = int 3
temp.79 = int 4
temp.19.x.80 = temp.78
temp.19.y.81 = temp.79
temp.82 = temp.19.x.80
temp.18.x.83 = temp.82
temp.84 = temp.19.y.81
temp.18.y.85 = temp.84
temp.1.origin.x.86 = temp.8.x.75
temp.1.origin.y.87 = temp.8.y.77
temp.1.size.x.88 = temp.18.x.83
temp.1.size.y.89 = temp.18.y.85
temp.90 = temp.1.origin.x.86
temp.0.origin.x.91 = temp.90
temp.92 = temp.1.origin.y.87
temp.0.origin.y.93 = temp.92
temp.94 = temp.1.size.x.88
temp.0.size.x.95 = temp.94
temp.96 = temp.1.size.y.89
temp.0.size.y.97 = temp.96
temp.98 = temp.0.origin.x.91
setglobal 0, temp.98
temp.99 = temp.0.origin.y.93
setglobal 1, temp.99
temp.100 = temp.0.size.x.95
setglobal 2, temp.100
temp.101 = temp.0.size.y.97
setglobal 3, temp.101
getglobal temp.102, 0
temp.44.x.103 = temp.102
getglobal temp.104, 1
temp.44.y.105 = temp.104
temp.106 = temp.44.x.103
temp.107 = extern test(temp.106)
getglobal temp.108, 0
temp.51.x.109 = temp.108
getglobal temp.110, 1
temp.51.y.111 = temp.110
temp.112 = temp.51.y.111
temp.113 = extern test(temp.112)
getglobal temp.114, 2
temp.58.x.115 = temp.114
getglobal temp.116, 3
temp.58.y.117 = temp.116
temp.118 = temp.58.x.115
temp.119 = extern test(temp.118)
getglobal temp.120, 2
temp.65.x.121 = temp.120
getglobal temp.122, 3
temp.65.y.123 = temp.122
temp.124 = temp.65.y.123
temp.125 = extern test(temp.124)
return 


----------- dead_store_elimination -------------
=======================
fn @toplevel() -> 

---- block 0 ----
temp.70 = int 1
temp.71 = int 2
temp.9.x.72 = temp.70
temp.9.y.73 = temp.71
temp.74 = temp.9.x.72
temp.8.x.75 = temp.74
temp.76 = temp.9.y.73
temp.8.y.77 = temp.76
temp.78 = int 3
temp.79 = int 4
temp.19.x.80 = temp.78
temp.19.y.81 = temp.79
temp.82 = temp.19.x.80
temp.18.x.83 = temp.82
temp.84 = temp.19.y.81
temp.18.y.85 = temp.84
temp.1.origin.x.86 = temp.8.x.75
temp.1.origin.y.87 = temp.8.y.77
temp.1.size.x.88 = temp.18.x.83
temp.1.size.y.89 = temp.18.y.85
temp.90 = temp.1.origin.x.86
temp.0.origin.x.91 = temp.90
temp.92 = temp.1.origin.y.87
temp.0.origin.y.93 = temp.92
temp.94 = temp.1.size.x.88
temp.0.size.x.95 = temp.94
temp.96 = temp.1.size.y.89
temp.0.size.y.97 = temp.96
temp.98 = temp.0.origin.x.91
setglobal 0, temp.98
temp.99 = temp.0.origin.y.93
setglobal 1, temp.99
temp.100 = temp.0.size.x.95
setglobal 2, temp.100
temp.101 = temp.0.size.y.97
setglobal 3, temp.101
getglobal temp.102, 0
temp.44.x.103 = temp.102
getglobal temp.104, 1
temp.106 = temp.44.x.103
temp.107 = extern test(temp.106)
getglobal temp.108, 0
getglobal temp.110, 1
temp.51.y.111 = temp.110
temp.112 = temp.51.y.111
temp.113 = extern test(temp.112)
getglobal temp.114, 2
temp.58.x.115 = temp.114
getglobal temp.116, 3
temp.118 = temp.58.x.115
temp.119 = extern test(temp.118)
getglobal temp.120, 2
getglobal temp.122, 3
temp.65.y.123 = temp.122
temp.124 = temp.65.y.123
temp.125 = extern test(temp.124)
return 


----------- dead_store_elimination -------------
=======================
fn @toplevel() -> 

---- block 0 ----
temp.70 = int 1
temp.71 = int 2
temp.9.x.72 = temp.70
temp.9.y.73 = temp.71
temp.74 = temp.9.x.72
temp.8.x.75 = temp.74
temp.76 = temp.9.y.73
temp.8.y.77 = temp.76
temp.78 = int 3
temp.79 = int 4
temp.19.x.80 = temp.78
temp.19.y.81 = temp.79
temp.82 = temp.19.x.80
temp.18.x.83 = temp.82
temp.84 = temp.19.y.81
temp.18.y.85 = temp.84
temp.1.origin.x.86 = temp.8.x.75
temp.1.origin.y.87 = temp.8.y.77
temp.1.size.x.88 = temp.18.x.83
temp.1.size.y.89 = temp.18.y.85
temp.90 = temp.1.origin.x.86
temp.0.origin.x.91 = temp.90
temp.92 = temp.1.origin.y.87
temp.0.origin.y.93 = temp.92
temp.94 = temp.1.size.x.88
temp.0.size.x.95 = temp.94
temp.96 = temp.1.size.y.89
temp.0.size.y.97 = temp.96
temp.98 = temp.0.origin.x.91
setglobal 0, temp.98
temp.99 = temp.0.origin.y.93
setglobal 1, temp.99
temp.100 = temp.0.size.x.95
setglobal 2, temp.100
temp.101 = temp.0.size.y.97
setglobal 3, temp.101
getglobal temp.102, 0
temp.44.x.103 = temp.102
temp.106 = temp.44.x.103
temp.107 = extern test(temp.106)
getglobal temp.110, 1
temp.51.y.111 = temp.110
temp.112 = temp.51.y.111
temp.113 = extern test(temp.112)
getglobal temp.114, 2
temp.58.x.115 = temp.114
temp.118 = temp.58.x.115
temp.119 = extern test(temp.118)
getglobal temp.122, 3
temp.65.y.123 = temp.122
temp.124 = temp.65.y.123
temp.125 = extern test(temp.124)
return
