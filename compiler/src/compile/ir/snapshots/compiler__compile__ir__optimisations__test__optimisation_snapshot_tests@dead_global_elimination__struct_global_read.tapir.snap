---
source: compiler/src/compile/ir/optimisations.rs
expression: output
input_file: compiler/src/compile/ir/snapshot_tests/optimisations/dead_global_elimination/struct_global_read.tapir
---
----------- before -------------
=======================
fn @toplevel() -> 

---- block 0 ----
temp.14 = int 10
temp.15 = int 20
temp.1.x.16 = temp.14
temp.1.y.17 = temp.15
temp.18 = temp.1.x.16
temp.0.x.19 = temp.18
temp.20 = temp.1.y.17
temp.0.y.21 = temp.20
temp.22 = temp.0.x.19
setglobal 1, temp.22
temp.23 = temp.0.y.21
setglobal 2, temp.23
getglobal temp.24, 1
temp.25 = extern test(temp.24)
return 


----------- eliminate_dead_globals -------------
=======================
fn @toplevel() -> 

---- block 0 ----
temp.14 = int 10
temp.15 = int 20
temp.1.x.16 = temp.14
temp.1.y.17 = temp.15
temp.18 = temp.1.x.16
temp.0.x.19 = temp.18
temp.20 = temp.1.y.17
temp.0.y.21 = temp.20
temp.22 = temp.0.x.19
setglobal 0, temp.22
temp.23 = temp.0.y.21
getglobal temp.24, 0
temp.25 = extern test(temp.24)
return 


----------- dead_store_elimination -------------
=======================
fn @toplevel() -> 

---- block 0 ----
temp.14 = int 10
temp.15 = int 20
temp.1.x.16 = temp.14
temp.1.y.17 = temp.15
temp.18 = temp.1.x.16
temp.0.x.19 = temp.18
temp.20 = temp.1.y.17
temp.0.y.21 = temp.20
temp.22 = temp.0.x.19
setglobal 0, temp.22
getglobal temp.24, 0
temp.25 = extern test(temp.24)
return 


----------- dead_store_elimination -------------
=======================
fn @toplevel() -> 

---- block 0 ----
temp.14 = int 10
temp.15 = int 20
temp.1.x.16 = temp.14
temp.1.y.17 = temp.15
temp.18 = temp.1.x.16
temp.0.x.19 = temp.18
temp.20 = temp.1.y.17
temp.22 = temp.0.x.19
setglobal 0, temp.22
getglobal temp.24, 0
temp.25 = extern test(temp.24)
return 


----------- dead_store_elimination -------------
=======================
fn @toplevel() -> 

---- block 0 ----
temp.14 = int 10
temp.15 = int 20
temp.1.x.16 = temp.14
temp.1.y.17 = temp.15
temp.18 = temp.1.x.16
temp.0.x.19 = temp.18
temp.22 = temp.0.x.19
setglobal 0, temp.22
getglobal temp.24, 0
temp.25 = extern test(temp.24)
return 


----------- dead_store_elimination -------------
=======================
fn @toplevel() -> 

---- block 0 ----
temp.14 = int 10
temp.15 = int 20
temp.1.x.16 = temp.14
temp.18 = temp.1.x.16
temp.0.x.19 = temp.18
temp.22 = temp.0.x.19
setglobal 0, temp.22
getglobal temp.24, 0
temp.25 = extern test(temp.24)
return 


----------- dead_store_elimination -------------
=======================
fn @toplevel() -> 

---- block 0 ----
temp.14 = int 10
temp.1.x.16 = temp.14
temp.18 = temp.1.x.16
temp.0.x.19 = temp.18
temp.22 = temp.0.x.19
setglobal 0, temp.22
getglobal temp.24, 0
temp.25 = extern test(temp.24)
return
